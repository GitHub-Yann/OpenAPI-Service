# ğŸ“‹ OpenAPI Service é¡¹ç›®æ–‡æ¡£

## ğŸš€ é¡¹ç›®æ¦‚è¿°

OpenAPI Serviceæ˜¯ä¸€ä¸ªåŸºäºSpring Boot WebFluxçš„ååº”å¼å¾®æœåŠ¡é¡¹ç›®ï¼Œæä¾›JWT Tokenè®¤è¯ã€APIç½‘å…³ä»£ç†ã€è¯·æ±‚æ—¥å¿—è®°å½•ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œå…·å¤‡é«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„ç‰¹æ€§ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | æè¿° | çŠ¶æ€ |
|------|------|------|
| ğŸ” **JWTè®¤è¯** | åŸºäºJWTçš„Tokenç”Ÿæˆä¸éªŒè¯æœºåˆ¶ | âœ… å·²å®ç° |
| ğŸ›¡ï¸ **è®¤è¯æ‹¦æˆªå™¨** | å…¨é“¾è·¯è¯·æ±‚è®¤è¯ä¸æˆæƒæ§åˆ¶ | âœ… å·²å®ç° |
| ğŸ“Š **è¯·æ±‚æ—¥å¿—** | å®Œæ•´çš„è¯·æ±‚å“åº”æ—¥å¿—è®°å½•ç³»ç»Ÿ | âœ… å·²å®ç° |
| ğŸŒ **APIç½‘å…³** | è¯·æ±‚ä»£ç†ä¸è½¬å‘åŠŸèƒ½ | âœ… å·²å®ç° |
| ğŸ’¾ **MySQLé›†æˆ** | æŒä¹…åŒ–å­˜å‚¨åº”ç”¨å‡­è¯ç®¡ç† | âœ… å·²å®ç° |
| ğŸš€ **å“åº”å¼ç¼–ç¨‹** | åŸºäºWebFluxçš„éé˜»å¡IO | âœ… å·²å®ç° |

---

## ğŸ“Š æŠ€æœ¯æ¶æ„

### ğŸ› ï¸ **æŠ€æœ¯æ ˆé…ç½®**

```yaml
æ¡†æ¶ç‰ˆæœ¬ä¿¡æ¯ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Spring Boot      â”‚ 2.7.14                              â”‚
â”‚ Spring WebFlux   â”‚ å“åº”å¼Webæ¡†æ¶                        â”‚
â”‚ JWT              â”‚ 0.11.5 (io.jsonwebtoken)           â”‚
â”‚ MySQL Connector  â”‚ 8.0.33                             â”‚
â”‚ JPA/Hibernate    â”‚ æ•°æ®æŒä¹…åŒ–                           â”‚
â”‚ Java Version     â”‚ 1.8                                â”‚
â”‚ Maven           â”‚ æ„å»ºå·¥å…·                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ—ï¸ **ç³»ç»Ÿæ¶æ„å›¾**

```mermaid
graph TB
    A[å®¢æˆ·ç«¯è¯·æ±‚] --> B[GlobalWebFilter<br/>å…¨å±€è¿‡æ»¤å™¨]
    B --> C[AuthenticationFilter<br/>è®¤è¯è¿‡æ»¤å™¨]
    C --> D{éœ€è¦è®¤è¯?}
    D -->|æ˜¯| E[JWTéªŒè¯]
    D -->|å¦| F[ç›´æ¥é€šè¿‡]
    E --> G{éªŒè¯é€šè¿‡?}
    G -->|æ˜¯| H[æ·»åŠ ç”¨æˆ·ä¿¡æ¯]
    G -->|å¦| I[è¿”å›401é”™è¯¯]
    H --> J[ServiceController<br/>æœåŠ¡æ§åˆ¶å™¨]
    F --> J
    J --> K[RemoteCallService<br/>è¿œç¨‹è°ƒç”¨æœåŠ¡]
    K --> L[ç›®æ ‡API]
    L --> M[è¿”å›å“åº”]
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

### ğŸ“‚ **ç›®å½•ç»“æ„è¯¦è§£**

```
openapi-service/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/org/openapi/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ common/          # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseResponse.java      # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”‚   â”‚   â””â”€â”€ ConstantsHub.java      # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ config/          # é…ç½®ç±»
â”‚   â”‚   â”‚   â””â”€â”€ WebFluxConfig.java     # WebFluxé…ç½®
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ controller/      # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java    # è®¤è¯æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ HelloServiceController.java  # æµ‹è¯•æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ ServiceController.java # ä¸»æœåŠ¡æ¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthRequest.java       # è®¤è¯è¯·æ±‚DTO
â”‚   â”‚   â”‚   â””â”€â”€ AuthResponse.java      # è®¤è¯å“åº”DTO
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ entity/          # å®ä½“ç±»
â”‚   â”‚   â”‚   â””â”€â”€ AppCredentials.java    # åº”ç”¨å‡­è¯å®ä½“
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ filter/          # è¿‡æ»¤å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthenticationFilter.java  # è®¤è¯æ‹¦æˆªå™¨
â”‚   â”‚   â”‚   â””â”€â”€ GlobalWebFilter.java   # å…¨å±€è¿‡æ»¤å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ repository/      # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â””â”€â”€ AppCredentialsRepository.java
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ service/         # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ AppService.java        # åº”ç”¨ç®¡ç†æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ JwtService.java        # JWTå·¥å…·æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ RemoteCallService.java # è¿œç¨‹è°ƒç”¨æœåŠ¡
â”‚   â”‚   â””â”€â”€ Application.java    # å¯åŠ¨ç±»
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ application.yml     # åº”ç”¨é…ç½®
â”‚       â”œâ”€â”€ data.sql           # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚       â””â”€â”€ logging-config.xml # æ—¥å¿—é…ç½®
â”œâ”€â”€ README.md                  # åŸºç¡€è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ JWT_API_ä½¿ç”¨è¯´æ˜.md        # JWT APIä½¿ç”¨æŒ‡å—
â””â”€â”€ pom.xml                    # Mavené…ç½®
```

---

## ğŸ” è®¤è¯ç³»ç»Ÿ

### ğŸ¯ **JWT Tokenç®¡ç†**

#### ğŸ“‹ **Tokenç”Ÿæˆæµç¨‹**

```java
Tokenç”Ÿæˆæœºåˆ¶ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å®¢æˆ·ç«¯æä¾› appId + appSecret                         â”‚
â”‚ 2. æ•°æ®åº“éªŒè¯å‡­è¯æœ‰æ•ˆæ€§                                  â”‚
â”‚ 3. ç”ŸæˆJWT Token (HMAC-SHA256)                        â”‚
â”‚ 4. è®¾ç½®7å¤©æœ‰æ•ˆæœŸ (604800ç§’)                            â”‚
â”‚ 5. è¿”å›å®Œæ•´è®¤è¯ä¿¡æ¯                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ”‘ **JWTé…ç½®å‚æ•°**

| å‚æ•° | é»˜è®¤å€¼ | æè¿° |
|------|--------|------|
| `jwt.secret` | ç³»ç»Ÿé»˜è®¤å¯†é’¥ | JWTç­¾åå¯†é’¥(ç”Ÿäº§ç¯å¢ƒéœ€ä¿®æ”¹) |
| `jwt.expiration` | `604800` | Tokenæœ‰æ•ˆæœŸ(7å¤©) |
| `jwt.issuer` | `openapi-service` | Tokenç­¾å‘è€…æ ‡è¯† |

### ğŸ›¡ï¸ **è®¤è¯æ‹¦æˆªå™¨æœºåˆ¶**

#### ğŸ“Š **è¿‡æ»¤å™¨æ‰§è¡Œé“¾**

```java
è¿‡æ»¤å™¨æ‰§è¡Œé¡ºåºï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Order: -1  â”‚ GlobalWebFilter     â”‚ å…¨å±€æ—¥å¿—+è·¨åŸŸå¤„ç†   â”‚
â”‚ Order: 0   â”‚ AuthenticationFilterâ”‚ JWTè®¤è¯æ£€æŸ¥        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ” **è®¤è¯ç­–ç•¥**

- **ä¿æŠ¤è·¯å¾„**: é™¤ `/auth/**`ï¼ˆè·å–tokenæ¥å£ï¼‰ å’Œ `/api/v1/**`ï¼ˆæœåŠ¡è‡ªèº«ç›‘æ§æ£€æŸ¥æ¥å£ï¼‰ å¤–çš„æ‰€æœ‰è·¯å¾„
- **è®¤è¯æ–¹å¼**: Bearer Token (JWT)
- **å¤±è´¥å¤„ç†**: è¿”å›401çŠ¶æ€ç ä¸é”™è¯¯ä¿¡æ¯
- **ç”¨æˆ·æ³¨å…¥**: æˆåŠŸè®¤è¯åæ³¨å…¥ç”¨æˆ·ä¿¡æ¯åˆ°è¯·æ±‚å¤´

---

## ğŸ“¡ APIæ¥å£è¯¦è§£

### ğŸ” **è®¤è¯ç›¸å…³æ¥å£**

#### 1. **ç”ŸæˆJWT Token**

```http
POST /auth/token
Content-Type: application/json

{
    "appId": "test-app-001",
    "appSecret": "test-secret-001-abcdef123456789"
}
```

**å“åº”æ ¼å¼:**
```json
{
    "result": true,
    "errorMsg": "Tokenç”ŸæˆæˆåŠŸ",
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "tokenType": "Bearer",
        "expiresIn": 604800,
        "issuedAt": "2025-09-20T15:55:00",
        "expiresAt": "2025-09-27T15:55:00",
        "appId": "test-app-001",
        "appName": "æµ‹è¯•åº”ç”¨"
    }
}
```

#### 2. **éªŒè¯JWT Token**

```http
POST /auth/validate?token={JWT_TOKEN}
```

**å“åº”æ ¼å¼:**
```json
{
    "result": true,
    "errorMsg": "TokenéªŒè¯æˆåŠŸ",
    "data": {
        "valid": true,
        "appId": "test-app-001",
        "appName": "æµ‹è¯•åº”ç”¨",
        "remainingTime": 604800,
        "nearExpiry": false,
        "validatedAt": "2025-09-20T15:56:00"
    }
}
```

### ğŸŒ **APIä»£ç†æ¥å£**

#### **é€šç”¨APIä»£ç†**

```http
GET|POST|PUT|DELETE /api/**
Headers:
  Authorization: Bearer {JWT_TOKEN}
```

- **åŠŸèƒ½**: å°†è¯·æ±‚ä»£ç†è½¬å‘åˆ°åç«¯æœåŠ¡
- **è®¤è¯**: å¿…é¡»æä¾›æœ‰æ•ˆçš„JWT Token
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼

---

## ğŸŒ æœåŠ¡å‘ç°ä¸è·¯ç”±ç³»ç»Ÿ

### ğŸ¯ **æ ¸å¿ƒåŠŸèƒ½**

OpenAPI Service å®ç°äº†å®Œæ•´çš„æœåŠ¡å‘ç°å’Œæ™ºèƒ½è·¯ç”±è½¬å‘æœºåˆ¶ï¼Œæ”¯æŒå¾®æœåŠ¡æ¶æ„ä¸‹çš„åŠ¨æ€æœåŠ¡è°ƒç”¨ã€‚

#### ğŸ“Š **æœåŠ¡å‘ç°æœºåˆ¶**

| åŠŸèƒ½ | å®ç°æ–¹å¼ | ç‰¹ç‚¹ |
|------|----------|------|
| ğŸ”„ **å®šæ—¶å‘ç°** | ScheduledExecutorServiceæ¯10åˆ†é’Ÿæ›´æ–° | è‡ªåŠ¨åŒ–æœåŠ¡åˆ—è¡¨ç»´æŠ¤ |
| ğŸ“‹ **æœåŠ¡æ˜ å°„** | ConcurrentHashMapå­˜å‚¨è·¯å¾„-åœ°å€æ˜ å°„ | é«˜å¹¶å‘å®‰å…¨è®¿é—® |
| ğŸ›¡ï¸ **å¼‚å¸¸ä¿æŠ¤** | Try-catchæœºåˆ¶ä¿æŠ¤ä¸»æµç¨‹ | å‘ç°å¤±è´¥ä¸å½±å“æœåŠ¡ |
| ğŸ”§ **æ‰©å±•æ”¯æŒ** | é¢„ç•™æ³¨å†Œä¸­å¿ƒé›†æˆæ¥å£ | æ”¯æŒEureka/Nacoså¯¹æ¥ |

#### ğŸ—ºï¸ **è·¯ç”±è½¬å‘æµç¨‹**

```mermaid
graph TD
    A[å®¢æˆ·ç«¯è¯·æ±‚] --> B[è®¤è¯é€šè¿‡]
    B --> C[ServiceControlleræ¥æ”¶]
    C --> D[RemoteCallServiceè·¯ç”±è¯†åˆ«]
    D --> E{åŒ¹é…æœåŠ¡æ˜ å°„?}
    E -->|æ˜¯| F[è·¯å¾„è½¬æ¢]
    E -->|å¦| G[è¿”å›404é”™è¯¯]
    F --> H[WebClientè½¬å‘è¯·æ±‚]
    H --> I[ç›®æ ‡å¾®æœåŠ¡]
    I --> J[å“åº”é€ä¼ è¿”å›]
    G --> K[é”™è¯¯å“åº”]
```

---

## ğŸ’¾ æ•°æ®åº“è®¾è®¡

### ğŸ“Š **åº”ç”¨å‡­è¯è¡¨ç»“æ„**

```sql
CREATE TABLE app_credentials (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    app_id VARCHAR(32) NOT NULL UNIQUE,
    app_secret VARCHAR(64) NOT NULL,
    app_name VARCHAR(100),
    description VARCHAR(500),
    status INT DEFAULT 1,  -- 1:å¯ç”¨, 0:ç¦ç”¨
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### ğŸ”‘ **é¢„ç½®æµ‹è¯•æ•°æ®ï¼ˆç¤ºä¾‹ï¼‰**

| AppId | AppSecret | AppName | çŠ¶æ€ |
|-------|-----------|---------|------|
| `test-app-001` | `test-secret-001-abcdef123456789` | æµ‹è¯•åº”ç”¨ | å¯ç”¨ |
| `demo-app-002` | `demo-secret-002-xyz987654321abc` | æ¼”ç¤ºåº”ç”¨ | å¯ç”¨ |
| `prod-app-003` | `prod-secret-003-secure-long-key` | ç”Ÿäº§åº”ç”¨ | å¯ç”¨ |

---

## âš™ï¸ é…ç½®ç®¡ç†

### ğŸ“ **application.ymlæ ¸å¿ƒé…ç½®**

```yaml
# æœåŠ¡åŸºæœ¬é…ç½®
server:
  port: 9911
  max-http-header-size: 10485760

spring:
  application:
    name: demo-Y-hello-service
  
  # MySQLæ•°æ®åº“é…ç½®
  datasource:
    url: jdbc:mysql://192.168.0.xxx:3306/xxxxxxxxxx?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowMultiQueries=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: xxxxxxx
    password: xxxxxxx
    
    # HikariCPè¿æ¥æ± é…ç½®
    hikari:
      minimum-idle: 5
      maximum-pool-size: 20
      auto-commit: true
      idle-timeout: 30000
      pool-name: OpenApiHikariCP
      max-lifetime: 1800000
      connection-timeout: 30000
      connection-test-query: SELECT 1
  
  # JPAé…ç½®
  jpa:
    database-platform: org.hibernate.dialect.MySQL8Dialect
    hibernate:
      ddl-auto: none
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQL8Dialect
        jdbc:
          time_zone: Asia/Shanghai

# æ—¥å¿—é…ç½®
logging:
  config: classpath:logging-config.xml
```

### ğŸ“ **æœåŠ¡æ˜ å°„é…ç½®è¯´æ˜**

```json
{
    "/api/service-a/**": "http://localhost:8081",
    "/api/service-b/**": "http://localhost:8082", 
    "/api/service-c/**": "http://localhost:8083",
    "/api/user-service/**": "http://192.168.1.100:8080",
    "/api/order-service/**": "http://192.168.1.101:8080"
}
```

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### ğŸš€ **å¿«é€Ÿå¯åŠ¨**

```bash
# 1. ç¡®ä¿MySQLæ•°æ®åº“è¿è¡Œ
# 2. åˆ›å»ºæ•°æ®åº“(å¦‚æœä¸å­˜åœ¨)
CREATE DATABASE app_credentials;

# 3. å¯åŠ¨åº”ç”¨
mvn spring-boot:run -Dspring.profiles.active=loc

# 4. éªŒè¯æœåŠ¡çŠ¶æ€
curl http://localhost:9911/api/v1/healthcheck
```

### ğŸ“Š **APIæµ‹è¯•ç”¨ä¾‹**

#### **æµ‹è¯•Tokenç”Ÿæˆ**

```bash
curl -X POST http://localhost:9911/auth/token \
  -H "Content-Type: application/json" \
  -d '{
    "appId": "test-app-001",
    "appSecret": "test-secret-001-abcdef123456789"
  }'
```

#### **æµ‹è¯•è®¤è¯æ¥å£**

```bash
# ä½¿ç”¨ç”Ÿæˆçš„Tokenæµ‹è¯•
curl -X GET http://localhost:9911/api/service-a/v1/users \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

#### **æµ‹è¯•TokenéªŒè¯**

```bash
curl -X POST "http://localhost:9911/auth/validate?token=YOUR_JWT_TOKEN"
```

---

## ğŸ“ˆ æ€§èƒ½ä¸ç›‘æ§

### ğŸ“Š **æ€§èƒ½æŒ‡æ ‡**

```yaml
é¢„æœŸæ€§èƒ½æŒ‡æ ‡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tokenç”Ÿæˆ     â”‚ å¹³å‡å“åº”æ—¶é—´: 5-15ms    â”‚
â”‚ TokenéªŒè¯     â”‚ å¹³å‡å“åº”æ—¶é—´: 2-8ms     â”‚
â”‚ APIä»£ç†       â”‚ å¹³å‡å“åº”æ—¶é—´: 10-50ms   â”‚
â”‚ æ•°æ®åº“æŸ¥è¯¢    â”‚ å¹³å‡å“åº”æ—¶é—´: 1-5ms     â”‚
â”‚ å¹¶å‘æ”¯æŒ      â”‚ ç†è®ºæ”¯æŒ: 1000+ TPS     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ **æ—¥å¿—ç³»ç»Ÿ**

#### **æ—¥å¿—çº§åˆ«é…ç½®**

- **INFO**: æ­£å¸¸ä¸šåŠ¡æµç¨‹è®°å½•
- **WARN**: è®¤è¯å¤±è´¥ã€å¼‚å¸¸çŠ¶å†µ
- **ERROR**: ç³»ç»Ÿé”™è¯¯ã€å¼‚å¸¸å †æ ˆ
- **DEBUG**: è°ƒè¯•ä¿¡æ¯(Tokenè§£æç­‰)

#### **æ—¥å¿—æ ¼å¼ç¤ºä¾‹**

```log
# è¯·æ±‚å¼€å§‹
2025-09-20 15:10:15 request came [2025-09-20 15:10:15][req-123] GET /api/service-a/v1/users from 127.0.0.1

# è®¤è¯æˆåŠŸ
2025-09-20 15:10:15 [req-123]è®¤è¯æˆåŠŸ - Path: /api/service-a/v1/users

# è¯·æ±‚å®Œæˆ
2025-09-20 15:10:15 request done [2025-09-20 15:10:15][req-123] GET /api/service-a/v1/users - Status: 200 OK - Duration: 45ms
```

---

## ğŸ›¡ï¸ å®‰å…¨é˜²æŠ¤

### ğŸ” **å®‰å…¨æœºåˆ¶**

```yaml
å®‰å…¨ä¿éšœæªæ–½ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”’ JWTç­¾å    â”‚ HMAC-SHA256ç®—æ³•ï¼Œå¯†é’¥é•¿åº¦â‰¥32å­—ç¬¦      â”‚
â”‚ â° Tokenæ—¶æ•ˆ  â”‚ 7å¤©æœ‰æ•ˆæœŸï¼Œé˜²æ­¢é•¿æœŸæ»¥ç”¨               â”‚
â”‚ ğŸ” è¯·æ±‚éªŒè¯   â”‚ ç­¾åéªŒè¯ã€è¿‡æœŸæ£€æŸ¥ã€æ ¼å¼æ ¡éªŒ           â”‚
â”‚ ğŸ“Š å‡­è¯ç®¡æ§   â”‚ æ•°æ®åº“å­˜å‚¨ï¼Œæ”¯æŒå¯ç”¨/ç¦ç”¨çŠ¶æ€          â”‚
â”‚ ğŸ›¡ï¸ è·¨åŸŸä¿æŠ¤   â”‚ CORSé…ç½®ï¼Œæ”¯æŒé¢„æ£€è¯·æ±‚               â”‚
â”‚ ğŸ“ æ—¥å¿—å®¡è®¡   â”‚ å®Œæ•´çš„è®¤è¯æ—¥å¿—è®°å½•ç³»ç»Ÿ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### âš ï¸ **å®‰å…¨å»ºè®®**

1. **ğŸ”‘ ç”Ÿäº§ç¯å¢ƒå¯†é’¥**: å¿…é¡»ä¿®æ”¹é»˜è®¤JWTå¯†é’¥
2. **ğŸ’¾ æ•°æ®åº“å®‰å…¨**: ä½¿ç”¨å¼ºå¯†ç ï¼Œé™åˆ¶æ•°æ®åº“è®¿é—®
3. **ğŸŒ HTTPSéƒ¨ç½²**: ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨HTTPS
4. **ğŸ“Š ç›‘æ§å‘Šè­¦**: å»ºç«‹å¼‚å¸¸è®¤è¯ç›‘æ§æœºåˆ¶
5. **ğŸ”„ å¯†é’¥è½®æ¢**: å®šæœŸæ›´æ–°JWTç­¾åå¯†é’¥

---

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ğŸ—ï¸ **ç”Ÿäº§éƒ¨ç½²å»ºè®®**

#### **ç¯å¢ƒè¦æ±‚**

```yaml
ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Java Version  â”‚ 1.8+                   â”‚
â”‚ Memory        â”‚ æœ€å°2GBï¼Œæ¨è4GB+       â”‚
â”‚ CPU           â”‚ æœ€å°2æ ¸ï¼Œæ¨è4æ ¸+       â”‚
â”‚ MySQL         â”‚ 5.7+ æˆ– 8.0+          â”‚
â”‚ Network       â”‚ åƒå…†ç½‘ç»œ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **éƒ¨ç½²æ­¥éª¤**

```bash
# 1. æ„å»ºåº”ç”¨
mvn clean package -DskipTests

# 2. é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
export JWT_SECRET="your-super-secure-jwt-secret-key-for-production"
export DB_URL="jdbc:mysql://prod-db:3306/openapi_service"
export DB_USERNAME="openapi_user"
export DB_PASSWORD="secure_password"

# 3. å¯åŠ¨åº”ç”¨
java -jar -Xms2g -Xmx4g -Dspring.profiles.active=prod target/service-0.0.1-SNAPSHOT.jar
```

### ğŸ“Š **ç›‘æ§é…ç½®**

```yaml
# æ·»åŠ åˆ°application.yml
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### ğŸ’¡ **æ‰©å±•åŠŸèƒ½å»ºè®®**

1. **ğŸ”„ Tokenåˆ·æ–°**: å®ç°Tokenè‡ªåŠ¨åˆ·æ–°æœºåˆ¶
2. **ğŸ‘¥ ç”¨æˆ·ç®¡ç†**: æ·»åŠ ç”¨æˆ·CRUDç®¡ç†æ¥å£
3. **ğŸ“Š APIç»Ÿè®¡**: å¢åŠ APIè°ƒç”¨ç»Ÿè®¡åŠŸèƒ½
4. **ğŸš¦ é™æµæ§åˆ¶**: å®ç°è¯·æ±‚é¢‘ç‡é™åˆ¶
5. **ğŸ” é“¾è·¯è¿½è¸ª**: é›†æˆåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª

### ğŸ¯ **ä»£ç è§„èŒƒ**

- **ğŸ“ æ³¨é‡Š**: æ‰€æœ‰å…¬å…±æ–¹æ³•å¿…é¡»æœ‰JavaDocæ³¨é‡Š
- **ğŸ”§ å¼‚å¸¸å¤„ç†**: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- **ğŸ“Š æ—¥å¿—è§„èŒƒ**: ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—æ ¼å¼
- **ğŸ§ª å•å…ƒæµ‹è¯•**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¿…é¡»æœ‰å•å…ƒæµ‹è¯•

---

## ğŸ“ è”ç³»ä¿¡æ¯

### ğŸ› ï¸ **ç»´æŠ¤å›¢é˜Ÿ**

- **é¡¹ç›®è´Ÿè´£äºº**: OpenAPI Team
- **æŠ€æœ¯æ ˆ**: Spring Boot + WebFlux + JWT + MySQL
- **æ›´æ–°é¢‘ç‡**: æŒç»­é›†æˆä¸éƒ¨ç½²

### ğŸ“š **ç›¸å…³æ–‡æ¡£**

- `README.md`: åŸºç¡€è¯´æ˜æ–‡æ¡£

---

## ğŸ“‹ ç‰ˆæœ¬è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|----------|
| v0.0.1 | 2025-09-14 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºç¡€JWTè®¤è¯åŠŸèƒ½ |
| v0.0.2 | 2025-09-17 | å®Œå–„è®¤è¯æ‹¦æˆªå™¨ï¼Œå¢åŠ MySQLæ”¯æŒ |
| v0.0.3 | 2025-09-20 | ä¼˜åŒ–æ—¥å¿—ç³»ç»Ÿï¼Œå®Œå–„APIæ–‡æ¡£ |

---

**ğŸ‰ æ„Ÿè°¢ä½¿ç”¨ OpenAPI Serviceï¼**

*å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒç›¸å…³æ–‡æ¡£æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚*
