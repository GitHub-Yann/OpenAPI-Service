<!DOCTYPE html>
<html>
<head>
<title>OpenAPI_Service_é¡¹ç›®æ–‡æ¡£.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%F0%9F%93%8B-openapi-service-%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3">ğŸ“‹ OpenAPI Service é¡¹ç›®æ–‡æ¡£</h1>
<h2 id="%F0%9F%9A%80-%E9%A1%B9%E7%9B%AE%E6%A6%82%E8%BF%B0">ğŸš€ é¡¹ç›®æ¦‚è¿°</h2>
<p>OpenAPI Serviceæ˜¯ä¸€ä¸ªåŸºäºSpring Boot WebFluxçš„ååº”å¼å¾®æœåŠ¡é¡¹ç›®ï¼Œæä¾›JWT Tokenè®¤è¯ã€APIç½‘å…³ä»£ç†ã€è¯·æ±‚æ—¥å¿—è®°å½•ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œå…·å¤‡é«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„ç‰¹æ€§ã€‚</p>
<h3 id="%F0%9F%8E%AF-%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7">ğŸ¯ æ ¸å¿ƒç‰¹æ€§</h3>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>æè¿°</th>
<th>çŠ¶æ€</th>
</tr>
</thead>
<tbody>
<tr>
<td>ğŸ” <strong>JWTè®¤è¯</strong></td>
<td>åŸºäºJWTçš„Tokenç”Ÿæˆä¸éªŒè¯æœºåˆ¶</td>
<td>âœ… å·²å®ç°</td>
</tr>
<tr>
<td>ğŸ›¡ï¸ <strong>è®¤è¯æ‹¦æˆªå™¨</strong></td>
<td>å…¨é“¾è·¯è¯·æ±‚è®¤è¯ä¸æˆæƒæ§åˆ¶</td>
<td>âœ… å·²å®ç°</td>
</tr>
<tr>
<td>ğŸ“Š <strong>è¯·æ±‚æ—¥å¿—</strong></td>
<td>å®Œæ•´çš„è¯·æ±‚å“åº”æ—¥å¿—è®°å½•ç³»ç»Ÿ</td>
<td>âœ… å·²å®ç°</td>
</tr>
<tr>
<td>ğŸŒ <strong>APIç½‘å…³</strong></td>
<td>è¯·æ±‚ä»£ç†ä¸è½¬å‘åŠŸèƒ½</td>
<td>âœ… å·²å®ç°</td>
</tr>
<tr>
<td>ğŸ’¾ <strong>MySQLé›†æˆ</strong></td>
<td>æŒä¹…åŒ–å­˜å‚¨åº”ç”¨å‡­è¯ç®¡ç†</td>
<td>âœ… å·²å®ç°</td>
</tr>
<tr>
<td>ğŸš€ <strong>å“åº”å¼ç¼–ç¨‹</strong></td>
<td>åŸºäºWebFluxçš„éé˜»å¡IO</td>
<td>âœ… å·²å®ç°</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%F0%9F%93%8A-%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84">ğŸ“Š æŠ€æœ¯æ¶æ„</h2>
<h3 id="%F0%9F%9B%A0%EF%B8%8F-%E6%8A%80%E6%9C%AF%E6%A0%88%E9%85%8D%E7%BD%AE">ğŸ› ï¸ <strong>æŠ€æœ¯æ ˆé…ç½®</strong></h3>
<pre class="hljs"><code><div><span class="hljs-string">æ¡†æ¶ç‰ˆæœ¬ä¿¡æ¯ï¼š</span>
<span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">Spring</span> <span class="hljs-string">Boot</span>      <span class="hljs-string">â”‚</span> <span class="hljs-number">2.7</span><span class="hljs-number">.14</span>                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">Spring</span> <span class="hljs-string">WebFlux</span>   <span class="hljs-string">â”‚</span> <span class="hljs-string">å“åº”å¼Webæ¡†æ¶</span>                        <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">JWT</span>              <span class="hljs-string">â”‚</span> <span class="hljs-number">0.11</span><span class="hljs-number">.5</span> <span class="hljs-string">(io.jsonwebtoken)</span>           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">MySQL</span> <span class="hljs-string">Connector</span>  <span class="hljs-string">â”‚</span> <span class="hljs-number">8.0</span><span class="hljs-number">.33</span>                             <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">JPA/Hibernate</span>    <span class="hljs-string">â”‚</span> <span class="hljs-string">æ•°æ®æŒä¹…åŒ–</span>                           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">Java</span> <span class="hljs-string">Version</span>     <span class="hljs-string">â”‚</span> <span class="hljs-number">1.8</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">Maven</span>           <span class="hljs-string">â”‚</span> <span class="hljs-string">æ„å»ºå·¥å…·</span>                             <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</div></code></pre>
<h3 id="%F0%9F%8F%97%EF%B8%8F-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%9B%BE">ğŸ—ï¸ <strong>ç³»ç»Ÿæ¶æ„å›¾</strong></h3>
<pre><code class="language-mermaid"><div class="mermaid">graph TB
    A[å®¢æˆ·ç«¯è¯·æ±‚] --> B[GlobalWebFilter<br/>å…¨å±€è¿‡æ»¤å™¨]
    B --> C[AuthenticationFilter<br/>è®¤è¯è¿‡æ»¤å™¨]
    C --> D{éœ€è¦è®¤è¯?}
    D -->|æ˜¯| E[JWTéªŒè¯]
    D -->|å¦| F[ç›´æ¥é€šè¿‡]
    E --> G{éªŒè¯é€šè¿‡?}
    G -->|æ˜¯| H[æ·»åŠ ç”¨æˆ·ä¿¡æ¯]
    G -->|å¦| I[è¿”å›401é”™è¯¯]
    H --> J[ServiceController<br/>æœåŠ¡æ§åˆ¶å™¨]
    F --> J
    J --> K[RemoteCallService<br/>è¿œç¨‹è°ƒç”¨æœåŠ¡]
    K --> L[ç›®æ ‡API]
    L --> M[è¿”å›å“åº”]
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%81-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84">ğŸ“ é¡¹ç›®ç»“æ„</h2>
<h3 id="%F0%9F%93%82-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E8%AF%A6%E8%A7%A3">ğŸ“‚ <strong>ç›®å½•ç»“æ„è¯¦è§£</strong></h3>
<pre class="hljs"><code><div>openapi-service/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/org/openapi/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ common/          # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseResponse.java      # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”‚   â”‚   â””â”€â”€ ConstantsHub.java      # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ config/          # é…ç½®ç±»
â”‚   â”‚   â”‚   â””â”€â”€ WebFluxConfig.java     # WebFluxé…ç½®
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ controller/      # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java    # è®¤è¯æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ HelloServiceController.java  # æµ‹è¯•æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ ServiceController.java # ä¸»æœåŠ¡æ¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthRequest.java       # è®¤è¯è¯·æ±‚DTO
â”‚   â”‚   â”‚   â””â”€â”€ AuthResponse.java      # è®¤è¯å“åº”DTO
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ entity/          # å®ä½“ç±»
â”‚   â”‚   â”‚   â””â”€â”€ AppCredentials.java    # åº”ç”¨å‡­è¯å®ä½“
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ filter/          # è¿‡æ»¤å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthenticationFilter.java  # è®¤è¯æ‹¦æˆªå™¨
â”‚   â”‚   â”‚   â””â”€â”€ GlobalWebFilter.java   # å…¨å±€è¿‡æ»¤å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ repository/      # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â””â”€â”€ AppCredentialsRepository.java
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ service/         # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ AppService.java        # åº”ç”¨ç®¡ç†æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ JwtService.java        # JWTå·¥å…·æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ RemoteCallService.java # è¿œç¨‹è°ƒç”¨æœåŠ¡
â”‚   â”‚   â””â”€â”€ Application.java    # å¯åŠ¨ç±»
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ application.yml     # åº”ç”¨é…ç½®
â”‚       â”œâ”€â”€ data.sql           # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚       â””â”€â”€ logging-config.xml # æ—¥å¿—é…ç½®
â”œâ”€â”€ README.md                  # åŸºç¡€è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ JWT_API_ä½¿ç”¨è¯´æ˜.md        # JWT APIä½¿ç”¨æŒ‡å—
â””â”€â”€ pom.xml                    # Mavené…ç½®
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%90-%E8%AE%A4%E8%AF%81%E7%B3%BB%E7%BB%9F">ğŸ” è®¤è¯ç³»ç»Ÿ</h2>
<h3 id="%F0%9F%8E%AF-jwt-token%E7%AE%A1%E7%90%86">ğŸ¯ <strong>JWT Tokenç®¡ç†</strong></h3>
<h4 id="%F0%9F%93%8B-token%E7%94%9F%E6%88%90%E6%B5%81%E7%A8%8B">ğŸ“‹ <strong>Tokenç”Ÿæˆæµç¨‹</strong></h4>
<pre class="hljs"><code><div>Tokenç”Ÿæˆæœºåˆ¶ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">1</span>. å®¢æˆ·ç«¯æä¾› appId + appSecret                         â”‚
â”‚ <span class="hljs-number">2</span>. æ•°æ®åº“éªŒè¯å‡­è¯æœ‰æ•ˆæ€§                                  â”‚
â”‚ <span class="hljs-number">3</span>. ç”Ÿæˆ<span class="hljs-function">JWT <span class="hljs-title">Token</span> <span class="hljs-params">(HMAC-SHA256)</span>                        â”‚
â”‚ 4. è®¾ç½®7å¤©æœ‰æ•ˆæœŸ <span class="hljs-params">(<span class="hljs-number">604800</span>ç§’)</span>                            â”‚
â”‚ 5. è¿”å›å®Œæ•´è®¤è¯ä¿¡æ¯                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></div></code></pre>
<h4 id="%F0%9F%94%91-jwt%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0">ğŸ”‘ <strong>JWTé…ç½®å‚æ•°</strong></h4>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>é»˜è®¤å€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>jwt.secret</code></td>
<td>ç³»ç»Ÿé»˜è®¤å¯†é’¥</td>
<td>JWTç­¾åå¯†é’¥(ç”Ÿäº§ç¯å¢ƒéœ€ä¿®æ”¹)</td>
</tr>
<tr>
<td><code>jwt.expiration</code></td>
<td><code>604800</code></td>
<td>Tokenæœ‰æ•ˆæœŸ(7å¤©)</td>
</tr>
<tr>
<td><code>jwt.issuer</code></td>
<td><code>openapi-service</code></td>
<td>Tokenç­¾å‘è€…æ ‡è¯†</td>
</tr>
</tbody>
</table>
<h3 id="%F0%9F%9B%A1%EF%B8%8F-%E8%AE%A4%E8%AF%81%E6%8B%A6%E6%88%AA%E5%99%A8%E6%9C%BA%E5%88%B6">ğŸ›¡ï¸ <strong>è®¤è¯æ‹¦æˆªå™¨æœºåˆ¶</strong></h3>
<h4 id="%F0%9F%93%8A-%E8%BF%87%E6%BB%A4%E5%99%A8%E6%89%A7%E8%A1%8C%E9%93%BE">ğŸ“Š <strong>è¿‡æ»¤å™¨æ‰§è¡Œé“¾</strong></h4>
<pre class="hljs"><code><div>è¿‡æ»¤å™¨æ‰§è¡Œé¡ºåºï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Order: -<span class="hljs-number">1</span>  â”‚ GlobalWebFilter     â”‚ å…¨å±€æ—¥å¿—+è·¨åŸŸå¤„ç†   â”‚
â”‚ Order: <span class="hljs-number">0</span>   â”‚ AuthenticationFilterâ”‚ JWTè®¤è¯æ£€æŸ¥        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</div></code></pre>
<h4 id="%F0%9F%94%8D-%E8%AE%A4%E8%AF%81%E7%AD%96%E7%95%A5">ğŸ” <strong>è®¤è¯ç­–ç•¥</strong></h4>
<ul>
<li><strong>ä¿æŠ¤è·¯å¾„</strong>: é™¤ <code>/auth/**</code>ï¼ˆè·å–tokenæ¥å£ï¼‰ å’Œ <code>/api/v1/**</code>ï¼ˆæœåŠ¡è‡ªèº«ç›‘æ§æ£€æŸ¥æ¥å£ï¼‰ å¤–çš„æ‰€æœ‰è·¯å¾„</li>
<li><strong>è®¤è¯æ–¹å¼</strong>: Bearer Token (JWT)</li>
<li><strong>å¤±è´¥å¤„ç†</strong>: è¿”å›401çŠ¶æ€ç ä¸é”™è¯¯ä¿¡æ¯</li>
<li><strong>ç”¨æˆ·æ³¨å…¥</strong>: æˆåŠŸè®¤è¯åæ³¨å…¥ç”¨æˆ·ä¿¡æ¯åˆ°è¯·æ±‚å¤´</li>
</ul>
<hr>
<h2 id="%F0%9F%93%A1-api%E6%8E%A5%E5%8F%A3%E8%AF%A6%E8%A7%A3">ğŸ“¡ APIæ¥å£è¯¦è§£</h2>
<h3 id="%F0%9F%94%90-%E8%AE%A4%E8%AF%81%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3">ğŸ” <strong>è®¤è¯ç›¸å…³æ¥å£</strong></h3>
<h4 id="1-%E7%94%9F%E6%88%90jwt-token">1. <strong>ç”ŸæˆJWT Token</strong></h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /auth/token
Content-Type</span>: application/json

<span class="json">{
    <span class="hljs-attr">"appId"</span>: <span class="hljs-string">"test-app-001"</span>,
    <span class="hljs-attr">"appSecret"</span>: <span class="hljs-string">"test-secret-001-abcdef123456789"</span>
}
</span></div></code></pre>
<p><strong>å“åº”æ ¼å¼:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"result"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"errorMsg"</span>: <span class="hljs-string">"Tokenç”ŸæˆæˆåŠŸ"</span>,
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"token"</span>: <span class="hljs-string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span>,
        <span class="hljs-attr">"tokenType"</span>: <span class="hljs-string">"Bearer"</span>,
        <span class="hljs-attr">"expiresIn"</span>: <span class="hljs-number">604800</span>,
        <span class="hljs-attr">"issuedAt"</span>: <span class="hljs-string">"2025-09-20T15:55:00"</span>,
        <span class="hljs-attr">"expiresAt"</span>: <span class="hljs-string">"2025-09-27T15:55:00"</span>,
        <span class="hljs-attr">"appId"</span>: <span class="hljs-string">"test-app-001"</span>,
        <span class="hljs-attr">"appName"</span>: <span class="hljs-string">"æµ‹è¯•åº”ç”¨"</span>
    }
}
</div></code></pre>
<h4 id="2-%E9%AA%8C%E8%AF%81jwt-token">2. <strong>éªŒè¯JWT Token</strong></h4>
<pre class="hljs"><code><div><span class="hljs-attribute">POST /auth/validate?token={JWT_TOKEN}
</span></div></code></pre>
<p><strong>å“åº”æ ¼å¼:</strong></p>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"result"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"errorMsg"</span>: <span class="hljs-string">"TokenéªŒè¯æˆåŠŸ"</span>,
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"valid"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">"appId"</span>: <span class="hljs-string">"test-app-001"</span>,
        <span class="hljs-attr">"appName"</span>: <span class="hljs-string">"æµ‹è¯•åº”ç”¨"</span>,
        <span class="hljs-attr">"remainingTime"</span>: <span class="hljs-number">604800</span>,
        <span class="hljs-attr">"nearExpiry"</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">"validatedAt"</span>: <span class="hljs-string">"2025-09-20T15:56:00"</span>
    }
}
</div></code></pre>
<h3 id="%F0%9F%8C%90-api%E4%BB%A3%E7%90%86%E6%8E%A5%E5%8F%A3">ğŸŒ <strong>APIä»£ç†æ¥å£</strong></h3>
<h4 id="%E9%80%9A%E7%94%A8api%E4%BB%A3%E7%90%86"><strong>é€šç”¨APIä»£ç†</strong></h4>
<pre class="hljs"><code><div><span class="hljs-attribute">GET|POST|PUT|DELETE /api/**
Headers:
  Authorization</span>: Bearer {JWT_TOKEN}
</div></code></pre>
<ul>
<li><strong>åŠŸèƒ½</strong>: å°†è¯·æ±‚ä»£ç†è½¬å‘åˆ°åç«¯æœåŠ¡</li>
<li><strong>è®¤è¯</strong>: å¿…é¡»æä¾›æœ‰æ•ˆçš„JWT Token</li>
<li><strong>é”™è¯¯å¤„ç†</strong>: ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼</li>
</ul>
<hr>
<h2 id="%F0%9F%8C%90-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%B7%AF%E7%94%B1%E7%B3%BB%E7%BB%9F">ğŸŒ æœåŠ¡å‘ç°ä¸è·¯ç”±ç³»ç»Ÿ</h2>
<h3 id="%F0%9F%8E%AF-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD">ğŸ¯ <strong>æ ¸å¿ƒåŠŸèƒ½</strong></h3>
<p>OpenAPI Service å®ç°äº†å®Œæ•´çš„æœåŠ¡å‘ç°å’Œæ™ºèƒ½è·¯ç”±è½¬å‘æœºåˆ¶ï¼Œæ”¯æŒå¾®æœåŠ¡æ¶æ„ä¸‹çš„åŠ¨æ€æœåŠ¡è°ƒç”¨ã€‚</p>
<h4 id="%F0%9F%93%8A-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E6%9C%BA%E5%88%B6">ğŸ“Š <strong>æœåŠ¡å‘ç°æœºåˆ¶</strong></h4>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>å®ç°æ–¹å¼</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ğŸ”„ <strong>å®šæ—¶å‘ç°</strong></td>
<td>ScheduledExecutorServiceæ¯10åˆ†é’Ÿæ›´æ–°</td>
<td>è‡ªåŠ¨åŒ–æœåŠ¡åˆ—è¡¨ç»´æŠ¤</td>
</tr>
<tr>
<td>ğŸ“‹ <strong>æœåŠ¡æ˜ å°„</strong></td>
<td>ConcurrentHashMapå­˜å‚¨è·¯å¾„-åœ°å€æ˜ å°„</td>
<td>é«˜å¹¶å‘å®‰å…¨è®¿é—®</td>
</tr>
<tr>
<td>ğŸ›¡ï¸ <strong>å¼‚å¸¸ä¿æŠ¤</strong></td>
<td>Try-catchæœºåˆ¶ä¿æŠ¤ä¸»æµç¨‹</td>
<td>å‘ç°å¤±è´¥ä¸å½±å“æœåŠ¡</td>
</tr>
<tr>
<td>ğŸ”§ <strong>æ‰©å±•æ”¯æŒ</strong></td>
<td>é¢„ç•™æ³¨å†Œä¸­å¿ƒé›†æˆæ¥å£</td>
<td>æ”¯æŒEureka/Nacoså¯¹æ¥</td>
</tr>
</tbody>
</table>
<h4 id="%F0%9F%97%BA%EF%B8%8F-%E8%B7%AF%E7%94%B1%E8%BD%AC%E5%8F%91%E6%B5%81%E7%A8%8B">ğŸ—ºï¸ <strong>è·¯ç”±è½¬å‘æµç¨‹</strong></h4>
<pre><code class="language-mermaid"><div class="mermaid">graph TD
    A[å®¢æˆ·ç«¯è¯·æ±‚] --> B[è®¤è¯é€šè¿‡]
    B --> C[ServiceControlleræ¥æ”¶]
    C --> D[RemoteCallServiceè·¯ç”±è¯†åˆ«]
    D --> E{åŒ¹é…æœåŠ¡æ˜ å°„?}
    E -->|æ˜¯| F[è·¯å¾„è½¬æ¢]
    E -->|å¦| G[è¿”å›404é”™è¯¯]
    F --> H[WebClientè½¬å‘è¯·æ±‚]
    H --> I[ç›®æ ‡å¾®æœåŠ¡]
    I --> J[å“åº”é€ä¼ è¿”å›]
    G --> K[é”™è¯¯å“åº”]
</div></code></pre>
<hr>
<h2 id="%F0%9F%92%BE-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1">ğŸ’¾ æ•°æ®åº“è®¾è®¡</h2>
<h3 id="%F0%9F%93%8A-%E5%BA%94%E7%94%A8%E5%87%AD%E8%AF%81%E8%A1%A8%E7%BB%93%E6%9E%84">ğŸ“Š <strong>åº”ç”¨å‡­è¯è¡¨ç»“æ„</strong></h3>
<pre class="hljs"><code><div><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> app_credentials (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">BIGINT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    app_id <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">UNIQUE</span>,
    app_secret <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    app_name <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">100</span>),
    description <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">500</span>),
    <span class="hljs-keyword">status</span> <span class="hljs-built_in">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">1</span>,  <span class="hljs-comment">-- 1:å¯ç”¨, 0:ç¦ç”¨</span>
    created_time <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>,
    updated_time <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>
);
</div></code></pre>
<h3 id="%F0%9F%94%91-%E9%A2%84%E7%BD%AE%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE">ğŸ”‘ <strong>é¢„ç½®æµ‹è¯•æ•°æ®</strong></h3>
<table>
<thead>
<tr>
<th>AppId</th>
<th>AppSecret</th>
<th>AppName</th>
<th>çŠ¶æ€</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>test-app-001</code></td>
<td><code>test-secret-001-abcdef123456789</code></td>
<td>æµ‹è¯•åº”ç”¨</td>
<td>å¯ç”¨</td>
</tr>
<tr>
<td><code>demo-app-002</code></td>
<td><code>demo-secret-002-xyz987654321abc</code></td>
<td>æ¼”ç¤ºåº”ç”¨</td>
<td>å¯ç”¨</td>
</tr>
<tr>
<td><code>prod-app-003</code></td>
<td><code>prod-secret-003-secure-long-key</code></td>
<td>ç”Ÿäº§åº”ç”¨</td>
<td>å¯ç”¨</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%E2%9A%99%EF%B8%8F-%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86">âš™ï¸ é…ç½®ç®¡ç†</h2>
<h3 id="%F0%9F%93%9D-applicationyml%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE">ğŸ“ <strong>application.ymlæ ¸å¿ƒé…ç½®</strong></h3>
<pre class="hljs"><code><div><span class="hljs-comment"># æœåŠ¡åŸºæœ¬é…ç½®</span>
<span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">9911</span>
  <span class="hljs-attr">max-http-header-size:</span> <span class="hljs-number">10485760</span>

<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">application:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">demo-Y-hello-service</span>
  
  <span class="hljs-comment"># MySQLæ•°æ®åº“é…ç½®</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://192.168.0.100:3306/openapi_service?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowMultiQueries=true</span>
    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">openapi</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">Openapi@4321</span>
    
    <span class="hljs-comment"># HikariCPè¿æ¥æ± é…ç½®</span>
    <span class="hljs-attr">hikari:</span>
      <span class="hljs-attr">minimum-idle:</span> <span class="hljs-number">5</span>
      <span class="hljs-attr">maximum-pool-size:</span> <span class="hljs-number">20</span>
      <span class="hljs-attr">auto-commit:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">idle-timeout:</span> <span class="hljs-number">30000</span>
      <span class="hljs-attr">pool-name:</span> <span class="hljs-string">OpenApiHikariCP</span>
      <span class="hljs-attr">max-lifetime:</span> <span class="hljs-number">1800000</span>
      <span class="hljs-attr">connection-timeout:</span> <span class="hljs-number">30000</span>
      <span class="hljs-attr">connection-test-query:</span> <span class="hljs-string">SELECT</span> <span class="hljs-number">1</span>
  
  <span class="hljs-comment"># JPAé…ç½®</span>
  <span class="hljs-attr">jpa:</span>
    <span class="hljs-attr">database-platform:</span> <span class="hljs-string">org.hibernate.dialect.MySQL8Dialect</span>
    <span class="hljs-attr">hibernate:</span>
      <span class="hljs-attr">ddl-auto:</span> <span class="hljs-string">none</span>
    <span class="hljs-attr">show-sql:</span> <span class="hljs-literal">false</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">hibernate:</span>
        <span class="hljs-attr">format_sql:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">dialect:</span> <span class="hljs-string">org.hibernate.dialect.MySQL8Dialect</span>
        <span class="hljs-attr">jdbc:</span>
          <span class="hljs-attr">time_zone:</span> <span class="hljs-string">Asia/Shanghai</span>

<span class="hljs-comment"># æ—¥å¿—é…ç½®</span>
<span class="hljs-attr">logging:</span>
  <span class="hljs-attr">config:</span> <span class="hljs-string">classpath:logging-config.xml</span>
</div></code></pre>
<h3 id="%F0%9F%93%9D-%E6%9C%8D%E5%8A%A1%E6%98%A0%E5%B0%84%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E">ğŸ“ <strong>æœåŠ¡æ˜ å°„é…ç½®è¯´æ˜</strong></h3>
<pre class="hljs"><code><div>{
    <span class="hljs-attr">"/api/service-a/**"</span>: <span class="hljs-string">"http://localhost:8081"</span>,
    <span class="hljs-attr">"/api/service-b/**"</span>: <span class="hljs-string">"http://localhost:8082"</span>, 
    <span class="hljs-attr">"/api/service-c/**"</span>: <span class="hljs-string">"http://localhost:8083"</span>,
    <span class="hljs-attr">"/api/user-service/**"</span>: <span class="hljs-string">"http://192.168.1.100:8080"</span>,
    <span class="hljs-attr">"/api/order-service/**"</span>: <span class="hljs-string">"http://192.168.1.101:8080"</span>
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%A7%AA-%E6%B5%8B%E8%AF%95%E6%8C%87%E5%8D%97">ğŸ§ª æµ‹è¯•æŒ‡å—</h2>
<h3 id="%F0%9F%9A%80-%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8">ğŸš€ <strong>å¿«é€Ÿå¯åŠ¨</strong></h3>
<pre class="hljs"><code><div><span class="hljs-comment"># 1. ç¡®ä¿MySQLæ•°æ®åº“è¿è¡Œ</span>
<span class="hljs-comment"># 2. åˆ›å»ºæ•°æ®åº“(å¦‚æœä¸å­˜åœ¨)</span>
CREATE DATABASE gateway_crud;

<span class="hljs-comment"># 3. å¯åŠ¨åº”ç”¨</span>
mvn spring-boot:run

<span class="hljs-comment"># 4. éªŒè¯æœåŠ¡çŠ¶æ€</span>
curl http://localhost:9911/<span class="hljs-built_in">test</span>/public
</div></code></pre>
<h3 id="%F0%9F%93%8A-api%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B">ğŸ“Š <strong>APIæµ‹è¯•ç”¨ä¾‹</strong></h3>
<h4 id="%E6%B5%8B%E8%AF%95token%E7%94%9F%E6%88%90"><strong>æµ‹è¯•Tokenç”Ÿæˆ</strong></h4>
<pre class="hljs"><code><div>curl -X POST http://localhost:9911/auth/token \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "appId": "test-app-001",
    "appSecret": "test-secret-001-abcdef123456789"
  }'</span>
</div></code></pre>
<h4 id="%E6%B5%8B%E8%AF%95%E8%AE%A4%E8%AF%81%E6%8E%A5%E5%8F%A3"><strong>æµ‹è¯•è®¤è¯æ¥å£</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># ä½¿ç”¨ç”Ÿæˆçš„Tokenæµ‹è¯•</span>
curl -X GET http://localhost:9911/api/v1/users \
  -H <span class="hljs-string">"Authorization: Bearer YOUR_JWT_TOKEN"</span>
</div></code></pre>
<h4 id="%E6%B5%8B%E8%AF%95token%E9%AA%8C%E8%AF%81"><strong>æµ‹è¯•TokenéªŒè¯</strong></h4>
<pre class="hljs"><code><div>curl -X POST <span class="hljs-string">"http://localhost:9911/auth/validate?token=YOUR_JWT_TOKEN"</span>
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%88-%E6%80%A7%E8%83%BD%E4%B8%8E%E7%9B%91%E6%8E%A7">ğŸ“ˆ æ€§èƒ½ä¸ç›‘æ§</h2>
<h3 id="%F0%9F%93%8A-%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87">ğŸ“Š <strong>æ€§èƒ½æŒ‡æ ‡</strong></h3>
<pre class="hljs"><code><div><span class="hljs-string">é¢„æœŸæ€§èƒ½æŒ‡æ ‡ï¼š</span>
<span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">Tokenç”Ÿæˆ</span>     <span class="hljs-string">â”‚</span> <span class="hljs-string">å¹³å‡å“åº”æ—¶é—´:</span> <span class="hljs-number">5</span><span class="hljs-string">-15ms</span>    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">TokenéªŒè¯</span>     <span class="hljs-string">â”‚</span> <span class="hljs-string">å¹³å‡å“åº”æ—¶é—´:</span> <span class="hljs-number">2</span><span class="hljs-string">-8ms</span>     <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">APIä»£ç†</span>       <span class="hljs-string">â”‚</span> <span class="hljs-string">å¹³å‡å“åº”æ—¶é—´:</span> <span class="hljs-number">10</span><span class="hljs-string">-50ms</span>   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">æ•°æ®åº“æŸ¥è¯¢</span>    <span class="hljs-string">â”‚</span> <span class="hljs-string">å¹³å‡å“åº”æ—¶é—´:</span> <span class="hljs-number">1</span><span class="hljs-string">-5ms</span>     <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">å¹¶å‘æ”¯æŒ</span>      <span class="hljs-string">â”‚</span> <span class="hljs-string">ç†è®ºæ”¯æŒ:</span> <span class="hljs-number">1000</span><span class="hljs-string">+</span> <span class="hljs-string">TPS</span>     <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</div></code></pre>
<h3 id="%F0%9F%93%9D-%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F">ğŸ“ <strong>æ—¥å¿—ç³»ç»Ÿ</strong></h3>
<h4 id="%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB%E9%85%8D%E7%BD%AE"><strong>æ—¥å¿—çº§åˆ«é…ç½®</strong></h4>
<ul>
<li><strong>INFO</strong>: æ­£å¸¸ä¸šåŠ¡æµç¨‹è®°å½•</li>
<li><strong>WARN</strong>: è®¤è¯å¤±è´¥ã€å¼‚å¸¸çŠ¶å†µ</li>
<li><strong>ERROR</strong>: ç³»ç»Ÿé”™è¯¯ã€å¼‚å¸¸å †æ ˆ</li>
<li><strong>DEBUG</strong>: è°ƒè¯•ä¿¡æ¯(Tokenè§£æç­‰)</li>
</ul>
<h4 id="%E6%97%A5%E5%BF%97%E6%A0%BC%E5%BC%8F%E7%A4%BA%E4%BE%8B"><strong>æ—¥å¿—æ ¼å¼ç¤ºä¾‹</strong></h4>
<pre class="hljs"><code><div># è¯·æ±‚å¼€å§‹
2025-09-20 15:10:15 request came [2025-09-20 15:10:15][req-123] GET /api/users from 127.0.0.1

# è®¤è¯æˆåŠŸ
2025-09-20 15:10:15 [req-123]è®¤è¯æˆåŠŸ - Path: /api/users

# è¯·æ±‚å®Œæˆ
2025-09-20 15:10:15 request done [2025-09-20 15:10:15][req-123] GET /api/users - Status: 200 OK - Duration: 45ms
</div></code></pre>
<hr>
<h2 id="%F0%9F%9B%A1%EF%B8%8F-%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4">ğŸ›¡ï¸ å®‰å…¨é˜²æŠ¤</h2>
<h3 id="%F0%9F%94%90-%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6">ğŸ” <strong>å®‰å…¨æœºåˆ¶</strong></h3>
<pre class="hljs"><code><div><span class="hljs-string">å®‰å…¨ä¿éšœæªæ–½ï¼š</span>
<span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">ğŸ”’</span> <span class="hljs-string">JWTç­¾å</span>    <span class="hljs-string">â”‚</span> <span class="hljs-string">HMAC-SHA256ç®—æ³•ï¼Œå¯†é’¥é•¿åº¦â‰¥32å­—ç¬¦</span>      <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">â°</span> <span class="hljs-string">Tokenæ—¶æ•ˆ</span>  <span class="hljs-string">â”‚</span> <span class="hljs-number">7</span><span class="hljs-string">å¤©æœ‰æ•ˆæœŸï¼Œé˜²æ­¢é•¿æœŸæ»¥ç”¨</span>               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">ğŸ”</span> <span class="hljs-string">è¯·æ±‚éªŒè¯</span>   <span class="hljs-string">â”‚</span> <span class="hljs-string">ç­¾åéªŒè¯ã€è¿‡æœŸæ£€æŸ¥ã€æ ¼å¼æ ¡éªŒ</span>           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">ğŸ“Š</span> <span class="hljs-string">å‡­è¯ç®¡æ§</span>   <span class="hljs-string">â”‚</span> <span class="hljs-string">æ•°æ®åº“å­˜å‚¨ï¼Œæ”¯æŒå¯ç”¨/ç¦ç”¨çŠ¶æ€</span>          <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">ğŸ›¡ï¸</span> <span class="hljs-string">è·¨åŸŸä¿æŠ¤</span>   <span class="hljs-string">â”‚</span> <span class="hljs-string">CORSé…ç½®ï¼Œæ”¯æŒé¢„æ£€è¯·æ±‚</span>               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">ğŸ“</span> <span class="hljs-string">æ—¥å¿—å®¡è®¡</span>   <span class="hljs-string">â”‚</span> <span class="hljs-string">å®Œæ•´çš„è®¤è¯æ—¥å¿—è®°å½•ç³»ç»Ÿ</span>               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</div></code></pre>
<h3 id="%E2%9A%A0%EF%B8%8F-%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%AE">âš ï¸ <strong>å®‰å…¨å»ºè®®</strong></h3>
<ol>
<li><strong>ğŸ”‘ ç”Ÿäº§ç¯å¢ƒå¯†é’¥</strong>: å¿…é¡»ä¿®æ”¹é»˜è®¤JWTå¯†é’¥</li>
<li><strong>ğŸ’¾ æ•°æ®åº“å®‰å…¨</strong>: ä½¿ç”¨å¼ºå¯†ç ï¼Œé™åˆ¶æ•°æ®åº“è®¿é—®</li>
<li><strong>ğŸŒ HTTPSéƒ¨ç½²</strong>: ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨HTTPS</li>
<li><strong>ğŸ“Š ç›‘æ§å‘Šè­¦</strong>: å»ºç«‹å¼‚å¸¸è®¤è¯ç›‘æ§æœºåˆ¶</li>
<li><strong>ğŸ”„ å¯†é’¥è½®æ¢</strong>: å®šæœŸæ›´æ–°JWTç­¾åå¯†é’¥</li>
</ol>
<hr>
<h2 id="%F0%9F%9A%80-%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97">ğŸš€ éƒ¨ç½²æŒ‡å—</h2>
<h3 id="%F0%9F%8F%97%EF%B8%8F-%E7%94%9F%E4%BA%A7%E9%83%A8%E7%BD%B2%E5%BB%BA%E8%AE%AE">ğŸ—ï¸ <strong>ç”Ÿäº§éƒ¨ç½²å»ºè®®</strong></h3>
<h4 id="%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82"><strong>ç¯å¢ƒè¦æ±‚</strong></h4>
<pre class="hljs"><code><div><span class="hljs-string">ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼š</span>
<span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">Java</span> <span class="hljs-string">Version</span>  <span class="hljs-string">â”‚</span> <span class="hljs-number">1.8</span><span class="hljs-string">+</span>                   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">Memory</span>        <span class="hljs-string">â”‚</span> <span class="hljs-string">æœ€å°2GBï¼Œæ¨è4GB+</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">CPU</span>           <span class="hljs-string">â”‚</span> <span class="hljs-string">æœ€å°2æ ¸ï¼Œæ¨è4æ ¸+</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">MySQL</span>         <span class="hljs-string">â”‚</span> <span class="hljs-number">5.7</span><span class="hljs-string">+</span> <span class="hljs-string">æˆ–</span> <span class="hljs-number">8.0</span><span class="hljs-string">+</span>          <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span> <span class="hljs-string">Network</span>       <span class="hljs-string">â”‚</span> <span class="hljs-string">åƒå…†ç½‘ç»œ</span>               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</div></code></pre>
<h4 id="%E9%83%A8%E7%BD%B2%E6%AD%A5%E9%AA%A4"><strong>éƒ¨ç½²æ­¥éª¤</strong></h4>
<pre class="hljs"><code><div><span class="hljs-comment"># 1. æ„å»ºåº”ç”¨</span>
mvn clean package -DskipTests

<span class="hljs-comment"># 2. é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">export</span> JWT_SECRET=<span class="hljs-string">"your-super-secure-jwt-secret-key-for-production"</span>
<span class="hljs-built_in">export</span> DB_URL=<span class="hljs-string">"jdbc:mysql://prod-db:3306/openapi_service"</span>
<span class="hljs-built_in">export</span> DB_USERNAME=<span class="hljs-string">"openapi_user"</span>
<span class="hljs-built_in">export</span> DB_PASSWORD=<span class="hljs-string">"secure_password"</span>

<span class="hljs-comment"># 3. å¯åŠ¨åº”ç”¨</span>
java -jar -Xms2g -Xmx4g -Dspring.profiles.active=prod target/service-0.0.1-SNAPSHOT.jar
</div></code></pre>
<h3 id="%F0%9F%93%8A-%E7%9B%91%E6%8E%A7%E9%85%8D%E7%BD%AE">ğŸ“Š <strong>ç›‘æ§é…ç½®</strong></h3>
<pre class="hljs"><code><div><span class="hljs-comment"># æ·»åŠ åˆ°application.yml</span>
<span class="hljs-attr">management:</span>
  <span class="hljs-attr">endpoints:</span>
    <span class="hljs-attr">web:</span>
      <span class="hljs-attr">exposure:</span>
        <span class="hljs-attr">include:</span> <span class="hljs-string">health,info,metrics,prometheus</span>
  <span class="hljs-attr">endpoint:</span>
    <span class="hljs-attr">health:</span>
      <span class="hljs-attr">show-details:</span> <span class="hljs-string">always</span>
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%A7-%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97">ğŸ”§ å¼€å‘æŒ‡å—</h2>
<h3 id="%F0%9F%92%A1-%E6%89%A9%E5%B1%95%E5%8A%9F%E8%83%BD%E5%BB%BA%E8%AE%AE">ğŸ’¡ <strong>æ‰©å±•åŠŸèƒ½å»ºè®®</strong></h3>
<ol>
<li><strong>ğŸ”„ Tokenåˆ·æ–°</strong>: å®ç°Tokenè‡ªåŠ¨åˆ·æ–°æœºåˆ¶</li>
<li><strong>ğŸ‘¥ ç”¨æˆ·ç®¡ç†</strong>: æ·»åŠ ç”¨æˆ·CRUDç®¡ç†æ¥å£</li>
<li><strong>ğŸ“Š APIç»Ÿè®¡</strong>: å¢åŠ APIè°ƒç”¨ç»Ÿè®¡åŠŸèƒ½</li>
<li><strong>ğŸš¦ é™æµæ§åˆ¶</strong>: å®ç°è¯·æ±‚é¢‘ç‡é™åˆ¶</li>
<li><strong>ğŸ” é“¾è·¯è¿½è¸ª</strong>: é›†æˆåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª</li>
</ol>
<h3 id="%F0%9F%8E%AF-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83">ğŸ¯ <strong>ä»£ç è§„èŒƒ</strong></h3>
<ul>
<li><strong>ğŸ“ æ³¨é‡Š</strong>: æ‰€æœ‰å…¬å…±æ–¹æ³•å¿…é¡»æœ‰JavaDocæ³¨é‡Š</li>
<li><strong>ğŸ”§ å¼‚å¸¸å¤„ç†</strong>: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
<li><strong>ğŸ“Š æ—¥å¿—è§„èŒƒ</strong>: ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—æ ¼å¼</li>
<li><strong>ğŸ§ª å•å…ƒæµ‹è¯•</strong>: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¿…é¡»æœ‰å•å…ƒæµ‹è¯•</li>
</ul>
<hr>
<h2 id="%F0%9F%93%9E-%E8%81%94%E7%B3%BB%E4%BF%A1%E6%81%AF">ğŸ“ è”ç³»ä¿¡æ¯</h2>
<h3 id="%F0%9F%9B%A0%EF%B8%8F-%E7%BB%B4%E6%8A%A4%E5%9B%A2%E9%98%9F">ğŸ› ï¸ <strong>ç»´æŠ¤å›¢é˜Ÿ</strong></h3>
<ul>
<li><strong>é¡¹ç›®è´Ÿè´£äºº</strong>: OpenAPI Team</li>
<li><strong>æŠ€æœ¯æ ˆ</strong>: Spring Boot + WebFlux + JWT + MySQL</li>
<li><strong>æ›´æ–°é¢‘ç‡</strong>: æŒç»­é›†æˆä¸éƒ¨ç½²</li>
</ul>
<h3 id="%F0%9F%93%9A-%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3">ğŸ“š <strong>ç›¸å…³æ–‡æ¡£</strong></h3>
<ul>
<li><code>README.md</code>: åŸºç¡€è¯´æ˜æ–‡æ¡£</li>
<li><code>JWT_API_ä½¿ç”¨è¯´æ˜.md</code>: JWT APIè¯¦ç»†ä½¿ç”¨æŒ‡å—</li>
<li>æœ¬æ–‡æ¡£: å®Œæ•´é¡¹ç›®æ¶æ„ä¸ä½¿ç”¨æ–‡æ¡£</li>
</ul>
<hr>
<h2 id="%F0%9F%93%8B-%E7%89%88%E6%9C%AC%E8%AE%B0%E5%BD%95">ğŸ“‹ ç‰ˆæœ¬è®°å½•</h2>
<table>
<thead>
<tr>
<th>ç‰ˆæœ¬</th>
<th>æ—¥æœŸ</th>
<th>æ›´æ–°å†…å®¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>v0.0.1</td>
<td>2025-09-14</td>
<td>åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºç¡€JWTè®¤è¯åŠŸèƒ½</td>
</tr>
<tr>
<td>v0.0.2</td>
<td>2025-09-17</td>
<td>å®Œå–„è®¤è¯æ‹¦æˆªå™¨ï¼Œå¢åŠ MySQLæ”¯æŒ</td>
</tr>
<tr>
<td>v0.0.3</td>
<td>2025-09-20</td>
<td>ä¼˜åŒ–æ—¥å¿—ç³»ç»Ÿï¼Œå®Œå–„APIæ–‡æ¡£</td>
</tr>
</tbody>
</table>
<hr>
<p><strong>ğŸ‰ æ„Ÿè°¢ä½¿ç”¨ OpenAPI Serviceï¼</strong></p>
<p><em>å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒç›¸å…³æ–‡æ¡£æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚</em></p>

</body>
</html>
